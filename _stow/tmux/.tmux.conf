set -g allow-passthrough on  # I need this for clickable urls

set -g allow-rename off
# set -g mode-mouse on
# set-window-option mode-keys vi
bind C-h select-pane -L
bind C-j select-pane -D
bind C-k select-pane -U
bind C-l select-pane -R

# reload binding
bind r source-file ~/.tmux.conf

# https://unix.stackexchange.com/questions/12032/how-to-create-a-new-window-on-the-current-directory-in-tmux
bind  c  new-window      -c "#{pane_current_path}"
bind  C-c  new-window    -c "#{pane_current_path}"
bind  %  split-window -h -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

bind q   kill-pane
bind C-q kill-pane


# don't rename windows automatically
set-option -g allow-rename off

set-option -g detach-on-destroy off

# https://github.com/ojroques/nvim-osc52
set-option -g set-clipboard on

# https://unix.stackexchange.com/a/35932
# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1


# https://superuser.com/questions/1560523/how-do-i-resize-tmux-pane-by-holding-down-prefix-and-arrow-key-for-a-while
# bind-key -r -T prefix       M-Up              resize-pane -U 5
# bind-key -r -T prefix       M-Down            resize-pane -D 5
# bind-key -r -T prefix       M-Left            resize-pane -L 5
# bind-key -r -T prefix       M-Right           resize-pane -R 5
bind-key -r -T prefix       C-Up              resize-pane -U 10
bind-key -r -T prefix       C-Down            resize-pane -D 10
bind-key -r -T prefix       C-Left            resize-pane -L 10
bind-key -r -T prefix       C-Right           resize-pane -R 10

# https://unix.stackexchange.com/a/400954/139827
set -g default-terminal "xterm-256color"

# Allow clipboard with OSC-52 work, see https://github.com/tmux/tmux/wiki/Clipboard
# see also: https://gronskiy.com/posts/2023-03-26-copy-via-vim-tmux-ssh/
set -s set-clipboard on


set-option -g detach-on-destroy off

# by default window number is sticky
set-option -g renumber-windows on

bind-key -n C-S-Left swap-window -t -1\; select-window -t -1
bind-key -n C-S-Right swap-window -t +1\; select-window -t +1

###               CHEATSHEET
###               Swap with previous window (move left)
###               Ctrl-b :swap-window -t -1
###               
###               # Swap with next window (move right)
###               Ctrl-b :swap-window -t +1
###               
###               # Move current window to position 3
###               Ctrl-b :move-window -t 3
###               
###               # Move window 5 to position 2
###               Ctrl-b :move-window -s 5 -t 2
###               # Move window left/right with Ctrl-Shift-Left/Right
###               bind-key -n C-S-Left swap-window -t -1\; select-window -t -1
###               bind-key -n C-S-Right swap-window -t +1\; select-window -t +1
###               
###               # Or use Prefix + < and > 
###               bind-key < swap-window -t -1\; select-window -t -1
###               bind-key > swap-window -t +1\; select-window -t +1
###



# bind-key f run-shell '/home/dgronskiy/bin/__tmux_fzf_select_window'
bind-key f display-popup -E '__tmux_fzf_select_window'
# bind-key f run-shell 'ps auxf | grep -C10 auxf'
# bind-key f run-shell 'nano'
# bind-key f run-shell 'env'
bind-key -n ¡ select-window -t 1
bind-key -n ™ select-window -t 2
bind-key -n £ select-window -t 3
bind-key -n ¢ select-window -t 4
